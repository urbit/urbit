/-  spider
/+  strandio
=,  strand=strand:spider
^-  thread:spider
|=  arg=vase
=/  m  (strand ,vase)
^-  form:m
=+  !<([~ =spar:ames] arg)
;<  ~                bind:m  (meta:strandio /meta spar)
;<  =sage:mess:ames  bind:m  (take-sage:strandio /meta)
;<  ~                bind:m  (yawn:strandio /meta spar)
?:  ?=(~ q.sage)
  (pure:m !>(~))
?>  ?=(%message p.q.sage)
%-  pure:m  !>
?+  -.q.q.sage  !!
  %clos  "flow in closing? "^"{<;;(? +.q.q.sage)>}"
  %gone  "flow is corked?"^"%.y"
  %line  "migration line: "^;;(@ud +.q.q.sage)
  %lods  "unacked payloads: "^;;(@ud +.q.q.sage)::(wyt:fo-mop:fo-core loads.snd))
  %next  "next payload: "^;;(@ud +.q.q.sage)::next.snd)
  %last  "last acked: "^;;(@ud +.q.q.sage)::last-acked.rcv)
  %naxp  "message nacked? "^"{<;;(? +.q.q.sage)>}"
==
