::
::::  /hoon/merge/hood/cat
  ::
/?  314
!:
|%
++  beaky  ,[span span span ~]
++  sorc  ?([bek=beaky ~] [her=@p sud=@tas ~])
--
::
::::
  !:
|=  $:  [now=@da eny=@uvI bek=beak]
        [arg=[?(sorc [syd=$|(desk beaky) sorc])] opt=(map ,%gem germ)]
    ==
=*  our  p.bek
|^  :-  %kiln-merge
    ^-  [syd=desk her=ship sud=desk gem=?(germ %auto)]
    =+  gem=(fall (~(get by opt) %gem) %auto)
    ?-  arg
      [@ @ ~]    =+(arg [sud ?.(=(our her) her (sein her)) sud gem])
      [^ ~]      =+((pars bek.arg) [dez ?.(=(our who) who (sein who)) dez gem])
      [* @ @ ~]  [(pars-src syd.arg) =+(arg [her sud gem])]
      [* ^ ~]    [(pars-src syd.arg) =+((pars bek.arg) [who dez gem])]
    ==
++  pars  |=(a=beaky =+((need (tome a)) `[who=ship dez=desk]`[p q]))
++  pars-src
  |=  syd=$|(desk beaky)
  ?@  syd  syd
  =+  (pars syd)
  ~|  [%into-foreign who `path`syd]
  ?>(=(our who) dez)
--
