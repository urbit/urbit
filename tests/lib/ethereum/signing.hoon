/+  ethereum, *test
|%
::NOTE  results for test cases generated with web3.js
::
++  test-signing-transaction-1
  %+  expect-eq
    !>  %+  sign-transaction:key:ethereum
          :*  123
              1.000
              5.000
              0x56db.68f2.9203.ff44.a803.
                faa2.404a.44ec.bb7a.7480
              500.000
              0x0
              0x1
          ==
        0xa44d.e241.6ee6.beb2.f323.fab4.8b43.2925.
          c978.5808.d33a.6ca6.d7ba.00b4.5e93.70c3
    !>  0xf864.7b82.03e8.8213.8894.56db.68f2.9203.ff44.
          a803.faa2.404a.44ec.bb7a.7480.8307.a120.8025.
          a050.d101.dd9f.9d29.face.b804.7d09.c512.5b42.
          aed4.edfc.7328.717f.db68.98d1.faee.61a0.74d2.
          2d46.9844.dc9b.98f7.e987.62b8.f18a.20ea.a951.
          7191.4fb5.1652.d913.7d0c.24dc
::
++  test-signing-transaction-2
  %+  expect-eq
    !>  %+  sign-transaction:key:ethereum
          :*  42
              1.000
              5.000
              0x56db.68f2.9203.ff44.a803.
                faa2.404a.44ec.bb7a.7480
              0
              0xa0d3.253f.0000.0000.0000.0000.0000.0000.
                0000.0000.0000.0000.0000.0000.0000.0000.
                0000.0005.0000.0000.0000.0000.0000.0000.
                0000.0000.0000.0000.0000.0000.0000.0000.
                0000.0000
              0x60
          ==
        0xa44d.e241.6ee6.beb2.f323.fab4.8b43.2925.
          c978.5808.d33a.6ca6.d7ba.00b4.5e93.70c3
    !>  0xf8.a72a.8203.e882.1388.9456.db68.f292.03ff.
          44a8.03fa.a240.4a44.ecbb.7a74.8080.b844.a0d3.
          253f.0000.0000.0000.0000.0000.0000.0000.0000.
          0000.0000.0000.0000.0000.0000.0000.0005.0000.
          0000.0000.0000.0000.0000.0000.0000.0000.0000.
          0000.0000.0000.0000.0000.0000.81e3.a065.a92e.
          4bd2.e49c.e05e.eb79.3bc2.ba83.a58a.b9b4.c82d.
          dcf7.12fc.3667.bb5a.cb13.94a0.382f.0c95.7ef4.
          20dd.dfaa.e6f8.beaa.09c1.f162.a5a8.37a3.7237.
          77c2.9c6a.7a05.65a5
::
++  test-signing-transaction-to-zero
  %+  expect-eq
    !>  %+  sign-typed-transaction:key:ethereum
          :-  %0x0
          :*  14
              5.000.000.000
              21.000
              0x0
              100.000.000.000.000.000
              0x0
              0x3
          ==
        0x7f50.12dc.a92e.4aef.d3e1.a9f7.e761.f459.
          c350.74e0.2f0c.93eb.5bb2.dafb.f5ea.8058
    !>  0xf86c.0e85.012a.05f2.0082.5208.9400.0000.0000.
          0000.0000.0000.0000.0000.0000.0000.0088.0163.
          4578.5d8a.0000.8029.a0f6.9c2c.fb99.2673.928e.
          9fdd.5056.487d.3664.48e3.37c3.c024.4187.544a.
          231e.c67a.98a0.0d6d.eb23.173b.26eb.62c7.3ad2.
          3bc2.afb9.efac.6879.f6b2.8063.f686.586e.31da.
          2343
::
++  test-signing-transaction-1559
  %+  expect-eq
    !>  0x2f8.7303.0b84.3b9a.ca00.8501.2a05.f200.8252.
          0894.24f9.63d6.9f36.d51c.c40d.5208.2d49.78d2.
          c4c2.7a17.8801.6345.785d.8a00.0080.c080.a05d.
          dc02.7d72.48d2.d542.75c7.3f1b.5bac.edd6.5af9.
          d136.5829.e637.7473.1ebf.5ca6.86a0.404b.71cc.
          a3d0.409f.dd84.9857.fb15.0f7d.f943.9fca.c425.
          c141.236a.a963.6528.2bb5
  !>  %+  sign-typed-transaction:key:ethereum
        :-  %0x2
        :*  0x3
            11
            1.000.000.000
            5.000.000.000
            21.000
            0x24f9.63d6.9f36.d51c.c40d.5208.2d49.78d2.c4c2.7a17
            100.000.000.000.000.000
            0x0
            ~
        ==
      0x7f50.12dc.a92e.4aef.d3e1.a9f7.e761.f459.
        c350.74e0.2f0c.93eb.5bb2.dafb.f5ea.8058
::
++  test-signing-transaction-1559-access-list
  %+  expect-eq
    !>  0x2.f8ac.030c.8477.3594.0085.0254.0be4.0082.
          7530.9424.f963.d69f.36d5.1cc4.0d52.082d.4978.
          d2c4.c27a.1788.0163.4578.5d8a.0000.80f8.38f7.
          9424.f963.d69f.36d5.1cc4.0d52.082d.4978.d2c4.
          c27a.17e1.a000.0000.0000.0000.0000.0000.0000.
          0000.0000.0000.0000.0000.0000.0000.0000.0000.
          0101.a015.5039.4a51.0a1a.601a.54fb.147d.e17f.
          a6b9.bd41.9bdb.1654.de06.b7bc.3481.f67e.4ba0.
          4e88.0574.d378.6ede.1de2.586a.fe98.e30f.d63c.
          ef3b.e31c.76a9.a0bd.66a8.aef7.8191
  !>  %+  sign-typed-transaction:key:ethereum
        :-  %0x2
        :*  0x3
            12
            2.000.000.000
            10.000.000.000
            30.000
            0x24f9.63d6.9f36.d51c.c40d.5208.2d49.78d2.c4c2.7a17
            100.000.000.000.000.000
            0x0
            %+  ~(add ja *(jar address:ethereum @ux))
              0x24f9.63d6.9f36.d51c.c40d.5208.2d49.78d2.c4c2.7a17
            0x1
        ==
      0x7f50.12dc.a92e.4aef.d3e1.a9f7.e761.f459.
        c350.74e0.2f0c.93eb.5bb2.dafb.f5ea.8058
::
++  test-signing-transaction-1559-to-zero
  %+  expect-eq
    !>  0x2f8.7303.0f84.3b9a.ca00.8501.2a05.f200.8252.
          0894.0000.0000.0000.0000.0000.0000.0000.0000.
          0000.0000.8801.6345.785d.8a00.0080.c080.a0c5.
          43ea.1ee9.04d1.5f9f.d23d.e881.672f.06f3.41e2.
          69e0.fedc.1ed0.4f0b.20f0.1679.06a0.442e.fe89.
          1bb6.48cf.d39b.20aa.5b1f.8a16.7be2.0ee2.d45b.
          3d3d.7b0a.bce5.1dc7.1232
  !>  %+  sign-typed-transaction:key:ethereum
        :-  %0x2
        :*  0x3
            15
            1.000.000.000
            5.000.000.000
            21.000
            0x0
            100.000.000.000.000.000
            0x0
            ~
        ==
      0x7f50.12dc.a92e.4aef.d3e1.a9f7.e761.f459.
        c350.74e0.2f0c.93eb.5bb2.dafb.f5ea.8058
--
