language: c
script: make && make test # no ./configure

# Uncomment me if this gets annoying
#
# notifications: 
#   email: false 

addons:
  apt:
    packages:
    - libgmp3-dev
    - libsigsegv-dev
    - openssl
    - libssl-dev
    - libncurses5-dev
    - make
    - exuberant-ctags
    - automake  #  these should just be libuv1-dev,      #
    - autoconf  #  but that's unavailable on the ubuntu  #
    - libtool   #  version that travis is using          #
    - g++
    - ragel
    - cmake
    - re2c
    - libcurl4-gnutls-dev
    - python
    
before_script:
  - curl -L https://github.com/libuv/libuv/archive/v1.x.tar.gz | tar xzf -
  - (cd libuv-1.x && ./autogen.sh && ./configure --prefix=/usr && make && sudo make install)
